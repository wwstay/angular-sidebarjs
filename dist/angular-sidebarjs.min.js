!function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=i(1);i(3);var r=function(){function e(t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$scope=t,this.SidebarJS=n,this.elem=i[0]}return e.$inject=["$scope","$element","SidebarJS"],o(e,[{key:"$onInit",value:function(){this.sidebarjsName=this.sidebarjsName||"",this.elem.setAttribute("sidebarjs",this.sidebarjsName)}},{key:"$postLink",value:function(){var e=this,t=this.sidebarjsConfig||{},i=this.onChangeVisibility||t.onChangeVisibility,o=n({},t,{component:this.elem,container:this.elem.children[0],backdrop:this.elem.children[1],onOpen:this.onOpen||t.onOpen,onClose:this.onClose||t.onClose,onChangeVisibility:function(t){i&&i({$event:t}),e.$scope.$applyAsync()}});this.SidebarJS.create(o)}},{key:"$onDestroy",value:function(){this.SidebarJS.destroy(this.sidebarjsName)}}]),e}();function a(e){return{controller:["SidebarJS",function(e){this.SidebarJS=e}],link:function(t,i,n,o){if(!o.SidebarJS.elemHasListener(i[0])){var s=n["sidebarjs"+(e.charAt(0).toUpperCase()+e.slice(1))];i[0].addEventListener("click",function(){return o.SidebarJS[e](s)}),o.SidebarJS.elemHasListener(i[0],!0)}}}}angular.module("ngSidebarJS",[]).service("SidebarJS",s.SidebarService).component("sidebarjs",{template:"<div sidebarjs-container ng-transclude></div><div sidebarjs-backdrop></div>",transclude:!0,controller:r,bindings:{onOpen:"&?",onClose:"&?",onChangeVisibility:"&?",sidebarjsConfig:"<?",sidebarjsName:"@?"}}).directive("sidebarjsOpen",a.bind(null,"open")).directive("sidebarjsClose",a.bind(null,"close")).directive("sidebarjsToggle",a.bind(null,"toggle"))},function(e,t,i){e.exports=i(2)},function(e,t,i){!function(e,i){i(t)}(0,function(e){"use strict";function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function i(e,t){return e(t={exports:{}},t.exports),t.exports}var n=i(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i="sidebarjs",n=i+"--is-visible",o=i+"--is-moving",s=["left","right"],r=function(){function e(t){void 0===t&&(t={});var s=this;this.toggle=function(){s.isVisible()?s.close():s.open()},this.open=function(){s.component.classList.add(n),s.setBackdropOpacity(s.backdropOpacity)},this.close=function(){s.component.classList.remove(n),s.clearStyle(s.backdrop)},this.__onTouchStart=function(e){s.initialTouch=e.touches[0].pageX},this.__onTouchMove=function(e){var t=-(s.initialTouch-e.touches[0].clientX);s.container.clientWidth+(s.hasLeftPosition()?t:-t)<=s.container.clientWidth&&(s.touchMoveSidebar=Math.abs(t),s.moveSidebar(t))},this.__onTouchEnd=function(){s.component.classList.remove(o),s.clearStyle(s.container),s.clearStyle(s.backdrop),s.touchMoveSidebar>s.container.clientWidth/3.5?s.close():s.open(),s.initialTouch=null,s.touchMoveSidebar=null},this.__onSwipeOpenStart=function(e){if(!s.targetElementIsBackdrop(e)){var t=e.touches[0].clientX;(s.hasLeftPosition()?t:document.body.clientWidth-t)<s.documentSwipeRange&&s.__onTouchStart(e)}},this.__onSwipeOpenMove=function(e){if(!s.targetElementIsBackdrop(e)&&s.initialTouch&&!s.isVisible()){var t=e.touches[0].clientX-s.initialTouch,i=s.hasLeftPosition(),n=i?t:-t,o=s.container.clientWidth-n;o>0&&n>=s.documentMinSwipeX&&(s.openMovement=i?-o:o,s.moveSidebar(s.openMovement))}},this.__onSwipeOpenEnd=function(){s.openMovement&&(s.openMovement=null,s.__onTouchEnd())},this.__onTransitionEnd=function(){var e=s.isVisible();e&&!s.__wasVisible?(s.__wasVisible=!0,s.__emitOnOpen&&s.__emitOnOpen()):!e&&s.__wasVisible&&(s.__wasVisible=!1,s.__emitOnClose&&s.__emitOnClose()),s.__emitOnChangeVisibility&&s.__emitOnChangeVisibility({isVisible:e})};var r=t.component,a=t.container,c=t.backdrop,p=t.documentMinSwipeX,h=void 0===p?10:p,d=t.documentSwipeRange,l=void 0===d?40:d,u=t.nativeSwipe,v=t.nativeSwipeOpen,m=t.responsive,f=void 0!==m&&m,b=t.mainContent,S=t.position,y=void 0===S?"left":S,_=t.backdropOpacity,E=void 0===_?.3:_,O=t.onOpen,C=t.onClose,L=t.onChangeVisibility,g=a&&c;if(this.component=r||document.querySelector("["+i+"]"),this.container=g?a:e.create(i+"-container"),this.backdrop=g?c:e.create(i+"-backdrop"),this.documentMinSwipeX=h,this.documentSwipeRange=l,this.nativeSwipe=!1!==u,this.nativeSwipeOpen=!1!==v,this.isStyleMapSupported=e.isStyleMapSupported(),this.responsive=Boolean(f),this.mainContent=this.shouldDefineMainContent(b),this.backdropOpacity=E,this.backdropOpacityRatio=1/E,this.__emitOnOpen=O,this.__emitOnClose=C,this.__emitOnChangeVisibility=L,!g)try{this.transcludeContent()}catch(e){throw new Error("You must define an element with [sidebarjs] attribute")}this.nativeSwipe&&(this.addNativeGestures(),this.nativeSwipeOpen&&this.addNativeOpenGestures()),(this.responsive||this.mainContent)&&this.setResponsive(),this.setPosition(y),this.addAttrsEventsListeners(this.component.getAttribute(i)),this.addTransitionListener(),this.backdrop.addEventListener("click",this.close,{passive:!0})}return e.prototype.isVisible=function(){return this.component.classList.contains(n)},e.prototype.destroy=function(){var e=this;for(this.component.removeEventListener("touchstart",this.__onTouchStart,{passive:!0}),this.component.removeEventListener("touchmove",this.__onTouchMove,{passive:!0}),this.component.removeEventListener("touchend",this.__onTouchEnd,{passive:!0}),this.container.removeEventListener("transitionend",this.__onTransitionEnd,{passive:!0}),this.backdrop.removeEventListener("click",this.close,{passive:!0}),document.removeEventListener("touchstart",this.__onSwipeOpenStart,{passive:!0}),document.removeEventListener("touchmove",this.__onSwipeOpenMove,{passive:!0}),document.removeEventListener("touchend",this.__onSwipeOpenEnd,{passive:!0}),this.removeAttrsEventsListeners(this.component.getAttribute(i)),this.removeComponentClassPosition();this.container.firstElementChild;)this.component.appendChild(this.container.firstElementChild);this.component.removeChild(this.container),this.component.removeChild(this.backdrop),Object.keys(this).forEach(function(t){return e[t]=null})},e.prototype.setPosition=function(e){var t=this;this.component.classList.add(o),this.position=s.indexOf(e)>=0?e:"left";var n=1===(document.querySelectorAll("["+i+"]")||[]).length;this.removeComponentClassPosition(n),this.component.classList.add(i+"--"+this.position),this.responsive&&this.mainContent&&this.mainContent.classList.add("sidebarjs-content--"+this.position),setTimeout(function(){return t.component&&t.component.classList.remove(o)},200)},e.prototype.addAttrsEventsListeners=function(t){var i=this;this.forEachActionElement(t,function(t,n){e.elemHasListener(t)||(t.addEventListener("click",i[n],{passive:!0}),e.elemHasListener(t,!0))})},e.prototype.removeAttrsEventsListeners=function(t){var i=this;this.forEachActionElement(t,function(t,n){e.elemHasListener(t)&&(t.removeEventListener("click",i[n]),e.elemHasListener(t,!1))})},e.prototype.addTransitionListener=function(){this.__wasVisible=this.isVisible(),this.container.addEventListener("transitionend",this.__onTransitionEnd,{passive:!0})},e.prototype.forEachActionElement=function(e,t){for(var n=["toggle","open","close"],o=0;o<n.length;o++)for(var s=document.querySelectorAll("["+i+"-"+n[o]+'="'+e+'"]'),r=0;r<s.length;r++)t(s[r],n[o])},e.prototype.removeComponentClassPosition=function(e){for(var t=0;t<s.length;t++)this.component.classList.remove(i+"--"+s[t]),e&&this.mainContent&&this.mainContent.classList.remove("sidebarjs-content--"+s[t])},e.prototype.hasLeftPosition=function(){return"left"===this.position},e.prototype.hasRightPosition=function(){return"right"===this.position},e.prototype.transcludeContent=function(){for(;this.component.firstChild;)this.container.appendChild(this.component.firstChild);for(;this.component.firstChild;)this.component.removeChild(this.component.firstChild);this.component.appendChild(this.container),this.component.appendChild(this.backdrop)},e.prototype.addNativeGestures=function(){this.component.addEventListener("touchstart",this.__onTouchStart,{passive:!0}),this.component.addEventListener("touchmove",this.__onTouchMove,{passive:!0}),this.component.addEventListener("touchend",this.__onTouchEnd,{passive:!0})},e.prototype.addNativeOpenGestures=function(){document.addEventListener("touchstart",this.__onSwipeOpenStart,{passive:!0}),document.addEventListener("touchmove",this.__onSwipeOpenMove,{passive:!0}),document.addEventListener("touchend",this.__onSwipeOpenEnd,{passive:!0})},e.prototype.moveSidebar=function(e){this.component.classList.add(o),this.applyStyle(this.container,"transform","translate("+e+"px, 0)",!0),this.updateBackdropOpacity(e)},e.prototype.updateBackdropOpacity=function(e){var t=(1-Math.abs(e)/this.container.clientWidth)/this.backdropOpacityRatio;this.setBackdropOpacity(t)},e.prototype.setBackdropOpacity=function(e){this.applyStyle(this.backdrop,"opacity",e.toString())},e.prototype.targetElementIsBackdrop=function(e){return e.target.hasAttribute(i+"-backdrop")},e.prototype.setResponsive=function(){if(!this.responsive&&this.mainContent)throw new Error("You provide a [sidebarjs-content] element without set {responsive: true}");if(this.responsive&&!this.mainContent)throw new Error("You have set {responsive: true} without provide a [sidebarjs-content] element");this.component.classList.add("sidebarjs--responsive")},e.prototype.shouldDefineMainContent=function(e){return e?(e.setAttribute("sidebarjs-content",""),e):document.querySelector("[sidebarjs-content]")},e.prototype.applyStyle=function(e,t,i,n){this.isStyleMapSupported?e.attributeStyleMap.set(t,i):(e.style[t]=i,n&&(e.style["Webkit"+t.charAt(0).toUpperCase()+t.slice(1)]=i))},e.prototype.clearStyle=function(e){this.isStyleMapSupported?e.attributeStyleMap.clear():e.removeAttribute("style")},e.isStyleMapSupported=function(){return Boolean(window.CSS&&CSS.number)},e.create=function(e){var t=document.createElement("div");return t.setAttribute(e,""),t},e.elemHasListener=function(e,t){return e&&"boolean"==typeof t?e.sidebarjsListener=t:!!e.sidebarjsListener},e}();t.SidebarElement=r});t(n);n.SidebarElement;var o=i(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.instances={}}return e.prototype.create=function(e){void 0===e&&(e={});var t=e.component&&e.component.getAttribute("sidebarjs")||"";return this.instances[t]=new n.SidebarElement(e),this.instances[t]},e.prototype.open=function(e){void 0===e&&(e=""),this.instances[e]&&this.instances[e].open()},e.prototype.close=function(e){void 0===e&&(e=""),this.instances[e]&&this.instances[e].close()},e.prototype.toggle=function(e){void 0===e&&(e=""),this.instances[e]&&this.instances[e].toggle()},e.prototype.isVisible=function(e){return void 0===e&&(e=""),!!this.instances[e]&&this.instances[e].isVisible()},e.prototype.setPosition=function(e,t){void 0===t&&(t=""),this.instances[t]&&this.instances[t].setPosition(e)},e.prototype.elemHasListener=function(e,t){return n.SidebarElement.elemHasListener(e,t)},e.prototype.destroy=function(e){void 0===e&&(e=""),this.instances[e]&&(this.instances[e].destroy(),this.instances[e]=null,delete this.instances[e])},e}();t.SidebarService=i});t(o);o.SidebarService;var s=i(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SidebarElement=n.SidebarElement,t.SidebarService=o.SidebarService}),r=t(s),a=s.SidebarElement,c=s.SidebarService;e.default=r,e.SidebarElement=a,e.SidebarService=c,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t){}]);